<mat-card>
  <mat-card-header>
      <mat-card-title>
          Maak een nieuw team
      </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="createTeamForm" (ngSubmit)="onSubmit(createTeamForm.value)">
      <mat-form-field>
      <input matInput type="text" placeholder="Teamnaam" formControlName="naam" required>
      </mat-form-field>
      <mat-form-field>
      <input matInput type="text" placeholder="Beschrijving" formControlName="beschrijving" required>
      </mat-form-field>
      <mat-form-field>
      <input matInput type="text" placeholder="E-mail teamleider" formControlName="teamleider" required>
      <mat-error *ngIf="isValidUser">Geen bekende gebruiker</mat-error>
      <mat-hint *ngIf="!createTeamForm.get('teamleider').hasError('isValidUser') && !createTeamForm.get('teamleider').hasError('required')" style="color:#9ea700">Gebruiker bestaat</mat-hint>
      </mat-form-field>
      <mat-form-field>
        <mat-chip-list #chipList>
          <input placeholder="Voeg leden toe *" [matChipInputFor]="chipList"
          [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
          [matChipInputAddOnBlur]="addOnBlur" (matChipInputTokenEnd)="add($event, createTeamForm)">
          <mat-error *ngIf="invalidEmailInput">Voer een geldig emailadres in</mat-error>
          <mat-error *ngIf="createTeamForm.get('teamleden').hasError('validateArrayNotEmpty') && !invalidEmailInput">Minstens 2</mat-error>
          <mat-chip  formArrayName="teamleden" *ngFor="let email of createTeamForm.get('teamleden').controls; let i=index;"
          [selectable]="selectable"
          [removable]="removable"
          (removed)="remove(createTeamForm, i)">
            {{email.value}}
            <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
          </mat-chip>
          
        </mat-chip-list>
        <mat-hint>E-mailadressen gescheiden door komma's</mat-hint>
      </mat-form-field>
      <button type="submit" [disabled]="createTeamForm.invalid">
        Maak nieuw team
      </button>
    </form>
  </mat-card-content>
</mat-card>